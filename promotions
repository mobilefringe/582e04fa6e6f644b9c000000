<section class="container">
    <div class="trim_screen">
        <div class="row">
        
        </div>
    </div>
</section>
<script>
    $(document).ready(function(e){
        init(e);
        function renderAll(){
            var promotions = getPromotionsList().sortBy(function(o){ return o.end_date });
            var published_promos = [];
            $.each( promotions , function( key, val ){
                today = moment();
                webDate = moment(val.show_on_web_date)
                if (today.tz(getPropertyTimeZone()) >= webDate.tz(getPropertyTimeZone())) {
                    published_promos.push(val);
                } 
            });
            if(published_promos.length > 0){
                renderPromotions("#promos_container","#promos_template", published_promos);
            }
            else{
                $('#no_promos').show()
            }
        }
        loadMallDataCached(renderAll); 
    })
</script>